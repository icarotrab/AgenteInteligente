import matplotlib.pyplot as plt

serieHistoriaEncehte2017=[
 19.44,24.04,25.68,27.34,28.33,28.97,28.56,27.51,23.61,17.76,17.78,19.29
,19.66,24.15,25.72,27.41,28.38,28.99,28.55,27.45,23.37,17.65,17.79,19.31
,19.92,24.24,25.75,27.47,28.41,29.00,28.55,27.40,23.13,17.52,17.80,19.32
,20.07,24.33,25.79,27.51,28.43,29.00,28.55,27.36,22.88,17.45,17.84,19.33
,20.25,24.42,25.83,27.56,28.47,29.00,28.52,27.32,22.64,17.39,17.89,19.34
,20.46,24.50,25.86,27.59,28.51,28.99,28.48,27.27,22.39,17.34,17.94,19.36
,20.53,24.57,25.91,27.63,28.55,28.98,28.47,27.22,22.14,17.36,17.99,19.38
,20.69,24.63,25.98,27.67,28.58,28.96,28.45,27.19,21.88,17.39,18.07,19.31
,20.85,24.70,26.03,27.70,28.62,28.95,28.43,27.17,21.64,17.42,18.17,19.39
,21.04,24.77,26.09,27.73,28.63,28.94,28.40,27.14,21.40,17.42,18.24,19.39
,21.25,24.82,26.14,27.77,28.65,28.92,28.37,27.07,21.17,17.42,18.31,19.39
,21.42,24.87,26.18,27.80,28.68,28.90,28.34,26.92,20.92,17.43,18.39,19.40
,21.57,24.91,26.22,27.82,28.71,28.89,28.31,26.77,20.69,17.45,18.47,19.42
,21.72,24.96,26.29,27.84,28.74,28.87,28.29,26.61,20.50,17.48,18.53,19.43
,21.87,25.00,26.34,27.86,28.76,28.85,28.27,26.44,20.27,17.51,18.59,19.45
,22.01,25.05,26.39,27.88,28.79,28.82,28.24,26.29,20.11,17.55,18.66,19.47
,22.16,25.09,26.45,27.89,28.80,28.81,28.21,26.18,19.95,17.59,18.71,19.49
,22.33,25.14,26.52,27.91,28.81,28.80,28.17,26.06,19.80,17.64,18.76,19.52]


def mediasMoveis(serie):
    medias = []
    for i,v in enumerate(serie):
        if i == 0:
            m = v
            medias.append(m)
        else:
            m = m + (v -m)/(i+2)
            medias.append(m)
    return medias

x = [i for i in range(len(serieHistoriaEncehte2017))]
y = list(reversed(serieHistoriaEncehte2017))

plt.plot(x,y)
plt.plot(x,mediasMoveis(y),label="Média movel")
plt.xlabel('Períodos (dias)')
plt.ylabel('Altura da Água')
plt.title('Enchente Manaus em 2017')
plt.show()